# スマートチューター開発計画（plan.md）

## プロジェクト概要
個別最適化AI学習システム「スマートチューター」の開発計画とタスク詳細

## 開発環境
- **IDE**: Windsurf
- **フロントエンド**: Next.js 14 + TypeScript + Tailwind CSS
- **バックエンド**: Node.js + Express + TypeScript
- **データベース**: PostgreSQL + Prisma ORM
- **AI/ML**: OpenAI API + TensorFlow.js
- **認証**: NextAuth.js
- **デプロイ**: Vercel (Frontend) + Railway (Backend)

---

## Phase 1: 基盤構築（Week 1-8）

### Week 1-2: プロジェクトセットアップ

#### Task 1.1: プロジェクト初期化
**優先度**: 🔴 Critical
**期間**: 2日
**担当**: フルスタック

**詳細タスク**:
- [ ] Next.js プロジェクト作成
- [ ] TypeScript 設定
- [ ] Tailwind CSS セットアップ
- [ ] ESLint/Prettier 設定
- [ ] Git リポジトリ初期化

**Windsurfプロンプト**:
```
スマートチューター用のNext.js 14プロジェクトをセットアップしてください。
- TypeScript有効
- Tailwind CSS導入
- app routerディレクトリ構造
- ESLint, Prettier設定
- 基本的なフォルダ構造（components, lib, app, types）を作成
```

#### Task 1.2: データベース設計・セットアップ
**優先度**: 🔴 Critical
**期間**: 3日
**担当**: バックエンド

**詳細タスク**:
- [ ] Prisma ORM セットアップ
- [ ] データベーススキーマ設計
- [ ] 基本テーブル作成（users, courses, lessons, questions, answers）
- [ ] シードデータ作成

**Windsurfプロンプト**:
```
スマートチューター用のPrismaスキーマを作成してください。
以下のエンティティを含む:
- User (学習者、保護者、教育者の区別)
- Course (コース)
- Lesson (レッスン)
- Question (問題)
- Answer (解答)
- LearningProgress (学習進捗)
- Assessment (診断結果)

各テーブルの関連性も適切に設定してください。
```

#### Task 1.3: 認証システム構築
**優先度**: 🔴 Critical
**期間**: 2日
**担当**: フルスタック

**詳細タスク**:
- [ ] NextAuth.js セットアップ
- [ ] ユーザー登録・ログイン機能
- [ ] ロールベースアクセス制御
- [ ] セッション管理

**Windsurfプロンプト**:
```
NextAuth.jsを使用してスマートチューターの認証システムを構築してください。
- メール/パスワードログイン
- Google OAuth
- 学習者/保護者/教育者の3つのロール
- 保護されたルートのミドルウェア
- ログイン/登録画面のUI
```

### Week 3-4: 基本UI構築

#### Task 1.4: デザインシステム構築
**優先度**: 🟡 High
**期間**: 3日
**担当**: フロントエンド

**詳細タスク**:
- [x] カラーパレット定義
- [x] コンポーネントライブラリ作成
- [x] レスポンシブデザイン対応
- [x] アクセシビリティ・コントラスト改善
- [ ] アクセシビリティ考慮

**Windsurfプロンプト**:
```
スマートチューター用のデザインシステムを構築してください。
- 年齢別（小学生、中学生、高校生）に適したカラーテーマ
- 再利用可能なUIコンポーネント（Button, Card, Modal, Form等）
- 学習アプリらしい親しみやすいデザイン
- ダークモード対応
- Tailwind CSSクラスで実装
```

#### Task 1.5: メインレイアウト作成
**優先度**: 🟡 High
**期間**: 2日
**担当**: フロントエンド

**詳細タスク**:
- [ ] ダッシュボードレイアウト
- [ ] ナビゲーション構築
- [ ] レスポンシブサイドバー
- [ ] ヘッダー・フッター

**Windsurfプロンプト**:
```
スマートチューターのメインレイアウトを作成してください。
- 左サイドバーナビゲーション（コース、進捗、設定など）
- トップヘッダー（ユーザー情報、通知）
- メインコンテンツエリア
- モバイル対応のハンバーガーメニュー
- 学習者ダッシュボードページも含める
```

### Week 5-6: 学習診断機能

#### Task 1.6: 適応的診断テスト機能
**優先度**: 🔴 Critical
**期間**: 4日
**担当**: フルスタック

**詳細タスク**:
- [ ] 問題表示コンポーネント
- [ ] 回答収集システム
- [ ] 診断ロジック実装
- [ ] 結果分析・表示

**Windsurfプロンプト**:
```
適応的診断テスト機能を実装してください。
- 問題出題インターフェース（選択肢、記述、数式対応）
- 回答に基づく次問題の難易度調整
- リアルタイム進捗表示
- 診断結果の可視化（レーダーチャート等）
- 科目別・単元別の理解度スコア算出
```

#### Task 1.7: 学習スタイル診断
**優先度**: 🟡 High
**期間**: 3日
**担当**: フルスタック

**詳細タスク**:
- [ ] 学習スタイル質問セット作成
- [ ] 診断アルゴリズム実装
- [ ] 結果分析・分類
- [ ] 学習スタイル別推薦ロジック

**Windsurfプロンプト**:
```
学習スタイル診断機能を実装してください。
- 視覚型、聴覚型、体験型の判定質問
- インタラクティブな質問形式
- 診断結果の視覚的表示
- 学習スタイルに基づく学習方法の推薦
- 診断履歴の保存と進捗追跡
```

### Week 7-8: 基本学習機能

#### Task 1.8: 問題管理システム
**優先度**: 🔴 Critical
**期間**: 4日
**担当**: バックエンド

**詳細タスク**:
- [ ] 問題データベース構築
- [ ] 問題CRUD API
- [ ] カテゴリ・タグ管理
- [ ] 難易度別問題抽出

**Windsurfプロンプト**:
```
問題管理システムのAPIを構築してください。
- 問題の作成、編集、削除API
- 科目、単元、難易度でのフィルタリング
- 問題形式（選択肢、記述、数式）への対応
- 解答・解説データの管理
- 問題検索機能
- バルクインポート機能
```

#### Task 1.9: 学習セッション機能
**優先度**: 🟡 High
**期間**: 3日
**担当**: フルスタック

**詳細タスク**:
- [ ] 問題出題システム
- [ ] タイマー機能
- [ ] 進捗保存
- [ ] 中断・再開機能

**Windsurfプロンプト**:
```
学習セッション機能を実装してください。
- 個人最適化された問題セットの生成
- 学習タイマーと休憩リマインダー
- リアルタイム進捗保存
- セッション中断・再開機能
- 学習統計の収集（解答時間、正答率等）
```

---

## Phase 2: 高度機能開発（Week 9-16）

### Week 9-10: AI対話機能

#### Task 2.1: チャットボット基盤
**優先度**: 🔴 Critical
**期間**: 4日
**担当**: フルスタック + AI

**詳細タスク**:
- [ ] OpenAI API統合
- [ ] チャットUI構築
- [ ] 文脈保持システム
- [ ] 学習コンテキスト連携

**Windsurfプロンプト**:
```
AI チューターチャット機能を実装してください。
- OpenAI GPT-4を使用したチャットボット
- 学習者の質問に対する適切な教育的回答
- 学習コンテキスト（現在の単元、理解度）を考慮
- チャット履歴の保存と表示
- 数式やコードの表示対応
- 年齢に適した言葉遣いの調整
```

#### Task 2.2: 解答解説システム
**優先度**: 🟡 High
**期間**: 3日
**担当**: AI + フロントエンド

**詳細タスク**:
- [ ] 自動解説生成
- [ ] ステップバイステップ説明
- [ ] 視覚的解説（図表）
- [ ] 関連問題推薦

**Windsurfプロンプト**:
```
AI解答解説システムを構築してください。
- 誤答に対する詳細な解説生成
- ステップバイステップの解法表示
- 類似問題や関連概念の提案
- 解説の理解度確認機能
- 視覚的要素（図、グラフ）の自動生成
```

### Week 11-12: 個別最適化エンジン

#### Task 2.3: 学習アルゴリズム実装
**優先度**: 🔴 Critical
**期間**: 5日
**担当**: AI + バックエンド

**詳細タスク**:
- [ ] 個人学習パターン分析
- [ ] 最適学習パス生成
- [ ] 難易度調整アルゴリズム
- [ ] 復習タイミング最適化

**Windsurfプロンプト**:
```
個別最適化学習エンジンを実装してください。
- 学習者の解答パターンと理解度を分析
- 個人に最適化された学習順序の生成
- 忘却曲線を考慮した復習スケジューリング
- リアルタイムでの学習パス調整
- A/Bテスト機能での効果測定
```

#### Task 2.4: 推薦システム
**優先度**: 🟡 High
**期間**: 3日
**担当**: AI

**詳細タスク**:
- [ ] コンテンツベース推薦
- [ ] 協調フィルタリング
- [ ] ハイブリッド推薦
- [ ] 推薦精度評価

**Windsurfプロンプト**:
```
学習コンテンツ推薦システムを構築してください。
- 学習者の履歴と嗜好に基づく推薦
- 類似学習者の成功パターンを活用
- 弱点補強と得意分野伸長のバランス
- 推薦理由の説明機能
- 推薦精度の継続的改善機能
```

### Week 13-14: 進捗分析機能

#### Task 2.5: 学習分析ダッシュボード
**優先度**: 🟡 High
**期間**: 4日
**担当**: フロントエンド + データ

**詳細タスク**:
- [ ] データ可視化コンポーネント
- [ ] 統計分析機能
- [ ] レポート生成
- [ ] 比較分析機能

**Windsurfプロンプト**:
```
学習分析ダッシュボードを構築してください。
- Chart.js/Recharts を使用したグラフ表示
- 学習時間、正答率、進捗速度の可視化
- 科目別・期間別の詳細分析
- 他の学習者との比較（匿名化）
- PDF/Excel でのレポート出力
- 保護者向けの簡潔なサマリー表示
```

#### Task 2.6: 目標管理システム
**優先度**: 🟡 High
**期間**: 2日
**担当**: フルスタック

**詳細タスク**:
- [ ] 目標設定UI
- [ ] 進捗追跡機能
- [ ] 達成通知システム
- [ ] 目標達成分析

**Windsurfプロンプト**:
```
学習目標管理システムを実装してください。
- SMART目標設定フォーム
- 短期・中期・長期目標の階層管理
- 進捗の自動追跡と可視化
- 目標達成時の表彰・通知機能
- 目標達成率の統計分析
```

### Week 15-16: ゲーミフィケーション

#### Task 2.7: ポイント・バッジシステム
**優先度**: 🟠 Medium
**期間**: 3日
**担当**: フルスタック

**詳細タスク**:
- [ ] ポイント算出ロジック
- [ ] バッジ設計・実装
- [ ] ランキングシステム
- [ ] 報酬システム

**Windsurfプロンプト**:
```
ゲーミフィケーション機能を実装してください。
- 学習活動に基づくポイントシステム
- 達成度別バッジ（デザイン含む）
- クラス内ランキング（オプトイン）
- バーチャル報酬とアバターシステム
- 学習継続を促進する仕組み
```

#### Task 2.8: 学習ゲーム機能
**優先度**: 🟠 Medium
**期間**: 4日
**担当**: フロントエンド + ゲーム

**詳細タスク**:
- [ ] クイズゲーム
- [ ] 対戦型学習
- [ ] パズル形式問題
- [ ] ミニゲーム集

**Windsurfプロンプト**:
```
学習ゲーム機能を実装してください。
- クイズバトル（リアルタイム対戦）
- パズル形式の数学・科学問題
- RPG要素のある学習冒険ゲーム
- 協力型学習ゲーム
- ゲーム内での学習成果反映
```

---

## Phase 3: 統合・最適化（Week 17-24）

### Week 17-18: 保護者機能

#### Task 3.1: 保護者ダッシュボード
**優先度**: 🟡 High
**期間**: 3日
**担当**: フロントエンド

**詳細タスク**:
- [ ] 子供の学習状況表示
- [ ] 成績推移グラフ
- [ ] 学習時間統計
- [ ] アラート機能

**Windsurfプロンプト**:
```
保護者向けダッシュボードを構築してください。
- 子供の学習進捗サマリー
- 週次・月次の学習レポート
- 弱点・得意分野の可視化
- 学習時間と集中度の分析
- 子供の学習目標に対する進捗
- 学習アドバイスの表示
```

#### Task 3.2: コミュニケーション機能
**優先度**: 🟠 Medium
**期間**: 2日
**担当**: フルスタック

**詳細タスク**:
- [ ] 保護者-子供チャット
- [ ] 学習相談システム
- [ ] 通知設定
- [ ] 学習計画共有

**Windsurfプロンプト**:
```
保護者-子供間のコミュニケーション機能を実装してください。
- 学習に関するチャット機能
- 保護者への学習相談AI
- カスタマイズ可能な通知設定
- 学習計画の共有と承認機能
- 褒める・励ますためのメッセージ機能
```

### Week 19-20: 教育者機能

#### Task 3.3: 教育者管理画面
**優先度**: 🟡 High
**期間**: 4日
**担当**: フルスタック

**詳細タスク**:
- [ ] クラス管理機能
- [ ] 生徒進捗一覧
- [ ] 課題配信システム
- [ ] 成績分析ツール

**Windsurfプロンプト**:
```
教育者向け管理画面を構築してください。
- クラス・生徒の一括管理
- 生徒別学習進捗の詳細表示
- カスタム課題の作成と配信
- クラス全体の学習傾向分析
- 個別指導のための推奨事項表示
- 保護者とのコミュニケーション機能
```

#### Task 3.4: 教材管理システム
**優先度**: 🟠 Medium
**期間**: 3日
**担当**: バックエンド

**詳細タスク**:
- [ ] 教材アップロード機能
- [ ] カリキュラム編集ツール
- [ ] 評価基準設定
- [ ] 教材共有機能

**Windsurfプロンプト**:
```
教材管理システムを実装してください。
- 独自教材のアップロードと管理
- ドラッグ&ドロップでのカリキュラム編集
- 教材の効果測定と分析
- 教育者間での教材共有機能
- 教材の著作権管理機能
```

### Week 21-22: システム最適化

#### Task 3.5: パフォーマンス最適化
**優先度**: 🔴 Critical
**期間**: 4日
**担当**: フルスタック

**詳細タスク**:
- [ ] フロントエンド最適化
- [ ] API レスポンス最適化
- [ ] データベースクエリ最適化
- [ ] キャッシュ戦略実装

**Windsurfプロンプト**:
```
システム全体のパフォーマンスを最適化してください。
- Next.js の Image、Font最適化
- API のレスポンス時間短縮
- データベースインデックス最適化
- Redis キャッシュの効果的な活用
- バンドルサイズの削減
- Core Web Vitals の改善
```

#### Task 3.6: セキュリティ強化
**優先度**: 🔴 Critical
**期間**: 3日
**担当**: バックエンド + セキュリティ

**詳細タスク**:
- [ ] 脆弱性スキャン
- [ ] データ暗号化強化
- [ ] API セキュリティ
- [ ] 個人情報保護対応

**Windsurfプロンプト**:
```
セキュリティ機能を強化してください。
- OWASP Top 10 の対策実装
- JWT トークンのセキュア管理
- 個人情報の暗号化ストレージ
- API レート制限とDDoS対策
- セキュリティヘッダーの適切な設定
- ログ監視とアラート機能
```

### Week 23-24: テスト・デプロイ準備

#### Task 3.7: 包括的テスト実装
**優先度**: 🔴 Critical
**期間**: 4日
**担当**: QA + 全員

**詳細タスク**:
- [ ] 単体テスト作成
- [ ] 統合テスト実装
- [ ] E2Eテスト構築
- [ ] パフォーマンステスト

**Windsurfプロンプト**:
```
包括的なテストスイートを実装してください。
- Jest + React Testing Library での単体テスト
- API の統合テスト
- Playwright での E2E テスト
- 負荷テストとパフォーマンステスト
- テストカバレッジ 80% 以上達成
- CI/CD パイプラインでの自動テスト実行
```

#### Task 3.8: デプロイメント設定
**優先度**: 🔴 Critical
**期間**: 3日
**担当**: DevOps

**詳細タスク**:
- [ ] 本番環境構築
- [ ] CI/CDパイプライン
- [ ] 監視・ログ設定
- [ ] バックアップ戦略

**Windsurfプロンプト**:
```
本番デプロイメント環境を構築してください。
- Vercel でのフロントエンド自動デプロイ
- Railway/AWS でのバックエンドデプロイ
- GitHub Actions での CI/CD パイプライン
- データベースのバックアップとリストア
- アプリケーション監視とアラート設定
- ステージング環境での最終テスト
```

---

## 継続的改善フェーズ

### 運用・保守タスク

#### Task 4.1: ユーザーフィードバック収集
**優先度**: 🟡 High
**担当**: PM + UX

**Windsurfプロンプト**:
```
ユーザーフィードバック収集システムを実装してください。
- アプリ内フィードバックフォーム
- NPS調査の自動実施
- ユーザー行動分析ダッシュボード
- フィードバック分析とカテゴライズ機能
- 改善要望の優先度付けシステム
```

#### Task 4.2: AI モデル改善
**優先度**: 🟡 High
**担当**: AI/ML

**Windsurfプロンプト**:
```
AI モデルの継続改善システムを構築してください。
- 学習データの収集と前処理パイプライン
- モデルの再学習と評価の自動化
- A/B テストでの新モデル検証
- モデルの性能監視ダッシュボード
- フィードバックループによる改善サイクル
```

---

## 効率的なWindsurf活用のための共通プロンプトテンプレート

### 新機能開発時
```
[機能名]を実装してください。

**要件**:
- [具体的要件1]
- [具体的要件2]
- [具体的要件3]

**技術仕様**:
- 使用技術: [技術スタック]
- API仕様: [API詳細]
- データ構造: [データ形式]

**品質基準**:
- TypeScript で型安全な実装
- レスポンシブデザイン対応
- アクセシビリティ考慮
- テストケース含む

**追加考慮事項**:
- エラーハンドリング
- ローディング状態の表示
- 年齢に適したUX
- パフォーマンス最適化
```

### デバッグ・修正時
```
以下の問題を修正してください。

**問題の詳細**:
[問題の説明]

**再現手順**:
1. [手順1]
2. [手順2]
3. [手順3]

**期待する動作**:
[期待する結果]

**現在のコード**:
[関連するコード部分]

**制約・注意事項**:
- 既存機能への影響を最小限に
- テストケースの更新も含める
- コードの可読性を維持
```

### UI/UX改善時
```
[UI要素名]のユーザビリティを改善してください。

**現在の課題**:
- [課題1]
- [課題2]

**改善目標**:
- [目標1]
- [目標2]

**対象ユーザー**:
- 年齢層: [対象年齢]
- 利用シーン: [利用場面]

**デザイン要件**:
- 学習アプリらしい親しみやすさ
- 直感的な操作性
- アクセシビリティ対応
- モバイルファースト
```

### API開発時
```
[API名]のAPIエンドポイントを実装してください。

**API仕様**:
- Method: [GET/POST/PUT/DELETE]
- Path: [APIパス]
- Request: [リクエスト形式]
- Response: [レスポンス形式]

**ビジネスロジック**:
- [処理内容1]
- [処理内容2]

**セキュリティ要件**:
- 認証・認可の実装
- 入力値検証
- レート制限

**その他**:
- エラーハンドリング
- ログ出力
- バリデーション
- テストケース
```

---

## プロジェクト管理

### 進捗管理
- 各タスクは最大5日以内に完了
- 週次で進捗レビューを実施
- ブロッカーは24時間以内に解決
- 機能完成時に必ずテストを実行

### 品質管理
- コードレビューは必須
- テストカバレッジ80%以上
- TypeScript strict mode遵守
- アクセシビリティチェック実施

### コミュニケーション
- 日次で進捗共有
- 技術的な課題は早期相談
- ユーザーフィードバックを優先
- 学習効果の定量的測定

---

## 成功指標（KPI）

### 開発指標
- [ ] 計画通りのリリース（24週以内）
- [ ] バグ発生率 < 1%
- [ ] ページ読み込み速度 < 3秒
- [ ] テストカバレッジ > 80%

### ユーザー指標
- [ ] ユーザー登録数 > 1,000人（初月）
- [ ] 継続利用率 > 60%（1ヶ月後）
- [ ] ユーザー満足度 > 4.0/5.0
- [ ] 学習効果 > 20%向上

この開発計画に従って、段階的にスマートチューターを構築していきましょう。各タスクで提供されたプロンプトを参考に、Windsurfでの効率的な開発を進めてください。